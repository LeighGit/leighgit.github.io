<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Notify</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://js.pusher.com/3.2/pusher.min.js"></script>
<script type="text/javascript" language="JavaScript1.1">
  
navigator.serviceWorker.register('TNotifyService.js');
	
var pusher = new Pusher('682c10e9ae1e3633aa51', {
	  //cluster: 'eu',
      encrypted: true,
	  authEndpoint: 'http://iot.netinfo.co.za/Pusher/auth.php'
    });

    var channel = pusher.subscribe('private-test_channel');
    channel.bind('client-my_event', function(data) {
      alert(data.message);
    });
  
function Notify(){
	setTimeout(showNotification, 5000);
}
  
function showNotification() {
  Notification.requestPermission(function(result) {
    if (result === 'granted') {
      navigator.serviceWorker.ready.then(function(registration) {
        registration.showNotification('Vibration Sample', {
          body: 'Buzz! Buzz!',
          icon: 'Images/n.jpg',
          vibrate: [200, 100, 200, 100, 200, 100, 200],
          tag: 'vibration-sample'
        });
      });
    }
  });
}
</script>
</head>

<body>

<h2>This will test your browser for<br>
  Notifications allowed on pc or mobile</h2>
  
  <p><img src="Images/n.jpg"></p>
  
  <p><button onclick="Notify()">Notify me after 5 sec!</button></p>
  
 <p>Pusher incl<p>


</body>
</html>
